<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Knowledge Check • forester</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- dalexverse --><link href="../dalexverse.css" rel="stylesheet">
<link href="../dalexverse-2.css" rel="stylesheet">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Knowledge Check">
<meta property="og:description" content="forester">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- google analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-5650686-14"></script><script>
 window.dataLayer = window.dataLayer || [];
 function gtag(){dataLayer.push(arguments);}
 gtag('js', new Date());

 gtag('config', 'UA-5650686-14');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">forester</a>
        <div class="info">
          <span class="partof">part of the <a href="https://github.com/ModelOriented/DrWhy" class="external-link">DrWhy.AI</a>
           developed by the <a href="https://mi2.mini.pw.edu.pl/" class="external-link">MI^2 DataLab</a> </span>
          <span class="version version-default">1.2.0</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Knowledge_check.html">Knowledge Check</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/ModelOriented/forester/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Knowledge Check</h1>
                        <h4 data-toc-skip class="author">Patryk
Słowakiewicz, Ada Grudzień, Hubert Ruczyński</h4>
            
            <h4 data-toc-skip class="date">2022-11-13</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ModelOriented/forester/blob/HEAD/vignettes/Knowledge_check.Rmd" class="external-link"><code>vignettes/Knowledge_check.Rmd</code></a></small>
      <div class="hidden name"><code>Knowledge_check.Rmd</code></div>

    </div>

    
    
<p>This script was prepared for the first forester “hands-on” conducted
inside of the MI2 Data Lab researchers and R enthusiasts. The main goal
of this event is to check the completeness level of the forester
package, find some bugs, check the clarity of the user interface, and
obtain ideas for new modules which could increase the value of the
package.</p>
<p>To obtain such effects, during this “hands-on,” we will briefly
introduce the forester package and show the participants how to use its
functionalists. After the workshop part, the participants will have time
to test the package on their ml datasets prepared beforehand.</p>
<p>The outline of the workshop is presented below:</p>
<ol style="list-style-type: decimal">
<li>Setup</li>
<li>Task 1: Dataset</li>
<li>Task 2: Basics of autoML with the forester</li>
<li>Task 3: The train mastery</li>
<li>Task 4: Advanced preprocessing</li>
<li>Task 5: How to understand the output?</li>
<li>Task 6: Explain the model</li>
<li>Task 7: Report generating</li>
<li>Task 8: Your metric</li>
<li>Task 9: Free testing</li>
<li>Task 10: Discussion and suggestions</li>
</ol>
<p>For each task, we will define WHY? we are asking you to do this,
WHAT? are you supposed to do.</p>
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<p>To run the code, we have to install the forester package from our
GitHub repository, load the package, and get to know the primary
dataset.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'DALEX'</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'devtools'</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">'ModelOriented/forester'</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://modeloriented.github.io/DALEX/" class="external-link">DALEX</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ModelOriented/forester" class="external-link">forester</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">lisbon</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/View.html" class="external-link">View</a></span><span class="op">(</span><span class="va">lisbon</span><span class="op">)</span></span></code></pre></div>
<p>To better understand our dataset, we will use the forester
<code><a href="../reference/check_data.html">check_data()</a></code> function, which was designed to provide basic
dataset info for the user and provide him with additional information
describing the dataset’s quality. As our target column is named ‘Price’,
we will provide it to the <code><a href="../reference/check_data.html">check_data()</a></code> function. Typically
this function is run inside of the <code><a href="../reference/train.html">train()</a></code>, so we have to
assign the output to the variable.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">check</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/check_data.html">check_data</a></span><span class="op">(</span><span class="va">lisbon</span>, <span class="st">'Price'</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Check data report correctly detected the issues present in the data,
such as high correlation of subset of the columns, presence of duplicate
and static columns, unequal quantile bins, or suspicious Id columns.</p>
</div>
<div class="section level2">
<h2 id="task-1-dataset">Task 1: Dataset<a class="anchor" aria-label="anchor" href="#task-1-dataset"></a>
</h2>
<div class="section level6">
<h6 id="why">WHY?<a class="anchor" aria-label="anchor" href="#why"></a>
</h6>
<p>Forester is not picky and accepts datasets in various formats and
qualities (e.g., it may contain NA values). You will check how the
forester sees the Lisbon dataset.</p>
</div>
<div class="section level6">
<h6 id="what">WHAT?<a class="anchor" aria-label="anchor" href="#what"></a>
</h6>
<p>Based on the <code><a href="../reference/check_data.html">check_data()</a></code> function, write the following
information about the dataset.</p>
<ol style="list-style-type: decimal">
<li><p>Column number</p></li>
<li><p>Static columns</p></li>
<li><p>Dominating values</p></li>
<li><p>Duplicates</p></li>
<li><p>NA number</p></li>
<li><p>Correlated pairs of numerical values number</p></li>
<li><p>Correlated pairs of categorical values number</p></li>
<li><p>Optional outliers number</p></li>
<li><p>Is there any ID column?</p></li>
</ol>
<details><summary>
Answers:
</summary><ol style="list-style-type: decimal">
<li>17</li>
<li>Country, District, Municipality</li>
<li>Portugal, Lisboa, Lisboa</li>
<li>District - Municipality</li>
<li>0</li>
<li>5</li>
<li>1</li>
<li>19</li>
<li>yes</li>
</ol></details>
</div>
</div>
<div class="section level2">
<h2 id="task-2-basics-of-automl-with-forester">Task 2: Basics of AutoML with forester<a class="anchor" aria-label="anchor" href="#task-2-basics-of-automl-with-forester"></a>
</h2>
<div class="section level6">
<h6 id="why-1">WHY?<a class="anchor" aria-label="anchor" href="#why-1"></a>
</h6>
<p>The first task is designed to introduce you to the main function,
which is called <code><a href="../reference/train.html">train()</a></code>. This function conducts all autoML
processes, including data preprocessing, model training, and
evaluation.</p>
</div>
<div class="section level6">
<h6 id="what-1">WHAT?<a class="anchor" aria-label="anchor" href="#what-1"></a>
</h6>
<p>In this task, you are asked to assign the output of
<code><a href="../reference/train.html">train()</a></code> to the variable <code>output1</code>. Instead of
using default parameters, we want to shorten the computation time and
ask you to limit the number of bayesian optimization iterations to 0,
hide the output of the function and set the number of random search
iterations to 5 In the end, print the ranked list from the output
object.</p>
<details><summary>
Answers:
</summary><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/train.html">train</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">lisbon</span>,</span>
<span>                 y <span class="op">=</span> <span class="st">'Price'</span>,</span>
<span>                 bayes_iter <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                 verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                 random_evals <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="va">output1</span><span class="op">$</span><span class="va">score_test</span></span></code></pre></div>
</details><p>The output is a pretty complex object later used in other functions.
The most important part is, however the <code>ranked_list</code>, which
evaluates all models trained. The main metric sorts the output list for
each task (classification or regression). Can you guess which metric is
the main for the regression task?</p>
</div>
</div>
<div class="section level2">
<h2 id="task-3-the-train-mastery">Task 3: The train mastery<a class="anchor" aria-label="anchor" href="#task-3-the-train-mastery"></a>
</h2>
<div class="section level6">
<h6 id="why-2">WHY?<a class="anchor" aria-label="anchor" href="#why-2"></a>
</h6>
<p>The second task aims to get you to know the train function parameters
better. As plenty of the processes hidden behind <code><a href="../reference/train.html">train()</a></code>
are complex and can also be tuned in some way, these options have to be
accessible from <code><a href="../reference/train.html">train()</a></code> interface.</p>
</div>
<div class="section level6">
<h6 id="what-2">WHAT?<a class="anchor" aria-label="anchor" href="#what-2"></a>
</h6>
<p>This time you are asked to experiment with the other parameters and
compare what they do. Try to create the output with ranger, xgboost and
decision_tree models only. You can then set bayesian optimization
iterations to 5 and random search iterations to 3. What are the
differences between these two hyperparameter tuning methods’ behavior?
Finally, you can turn on the text outputs from the function.</p>
<details><summary>
Answers:
</summary><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/train.html">train</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">lisbon</span>,</span>
<span>                 y <span class="op">=</span> <span class="st">'Price'</span>,</span>
<span>                 bayes_iter <span class="op">=</span> <span class="fl">5</span>,</span>
<span>                 engine <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'ranger'</span>, <span class="st">'xgboost'</span>, <span class="st">'decision_tree'</span><span class="op">)</span>,</span>
<span>                 verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                 random_evals <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="va">output2</span><span class="op">$</span><span class="va">score_test</span></span></code></pre></div>
</details>
</div>
</div>
<div class="section level2">
<h2 id="task-4-advanced-preprocessing">Task 4: Advanced preprocessing<a class="anchor" aria-label="anchor" href="#task-4-advanced-preprocessing"></a>
</h2>
<div class="section level6">
<h6 id="why-3">WHY?<a class="anchor" aria-label="anchor" href="#why-3"></a>
</h6>
<p>The <code><a href="https://devtools.r-lib.org/reference/check.html" class="external-link">check()</a></code> function suggests hypothetical problems with
the dataset, but the <code><a href="../reference/train.html">train()</a></code> function also offers turning
on the preprocessing option.</p>
</div>
<div class="section level6">
<h6 id="what-3">WHAT?<a class="anchor" aria-label="anchor" href="#what-3"></a>
</h6>
<ol style="list-style-type: decimal">
<li>Perform automatic preprocessing with the appropriate parameter data.
To reduce the time of counting functions, the number of optimization
iterations Bayesian to 0 and random search to 5. Compare the input with
the data after preprocessing. Check which columns have been removed and
compare if they match this with the information from check_data.</li>
</ol>
<details><summary>
Answers:
</summary><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/train.html">train</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">lisbon</span>,</span>
<span>                 y <span class="op">=</span> <span class="st">'Price'</span>,</span>
<span>                 bayes_iter <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                 verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                 random_evals <span class="op">=</span> <span class="fl">5</span>,</span>
<span>                 advanced_preprocessing <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</details><ol start="2" style="list-style-type: decimal">
<li>Which model achieves the best results? Is it a model with default
parameters, after Bayesian optimization or a random search?</li>
</ol>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output3</span><span class="op">$</span><span class="va">score_test</span><span class="op">[</span><span class="fl">1</span>, <span class="op">]</span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Compare the performance of the best model trained on the data with
preprocessing <code>output3</code> and without <code>output1</code>.
Have the results improved?</li>
</ol>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output3</span><span class="op">$</span><span class="va">score_test</span><span class="op">[</span><span class="fl">1</span>, <span class="op">]</span></span>
<span><span class="va">output1</span><span class="op">$</span><span class="va">score_test</span><span class="op">[</span><span class="fl">1</span>, <span class="op">]</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="task-5-how-to-understand-the-output">Task 5: How to understand the output?<a class="anchor" aria-label="anchor" href="#task-5-how-to-understand-the-output"></a>
</h2>
<div class="section level6">
<h6 id="why-4">WHY?<a class="anchor" aria-label="anchor" href="#why-4"></a>
</h6>
<p>As the forester team, our goal is to make the training process quick
and simple and understandable, even for newcomers. Our extensional tools
are one of the points that differentiate us from other autoML
frameworks. In this chapter, we will use these extra functions to show
the full capabilities of the forester.</p>
</div>
<div class="section level6">
<h6 id="what-4">WHAT?<a class="anchor" aria-label="anchor" href="#what-4"></a>
</h6>
<p>This time we will ask you to use the output created in the previous
task and explore four functions provided by the forester:</p>
<ol style="list-style-type: decimal">
<li>The first task is to save and load the output via
<code><a href="../reference/save.html">save()</a></code> function</li>
<li>The Second one is creating a subset from the original
<code>lisbon</code> data frame and running the
<code><a href="../reference/predict_new.html">predict_new()</a></code> method on this. The method enables the user
to make predictions on the data unseen by models before. Why is this
function needed?</li>
<li>The third one is associated with the well-known package in MI2 Lab -
DALEX. You are asked to create an explainer via <code><a href="../reference/explain.html">explain()</a></code>
method and use some DALEX visualization on the outcome. (Task 6)</li>
<li>The last task is to create and read a <code><a href="../reference/report.html">report()</a></code> outcome.
(Task 7)</li>
</ol>
<details><summary>
Answers:
</summary><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/save.html">save</a></span><span class="op">(</span>train <span class="op">=</span> <span class="va">output2</span>,</span>
<span>     name <span class="op">=</span> <span class="st">'hands_on_save'</span>,</span>
<span>     return_name <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">new_lisbon</span> <span class="op">&lt;-</span> <span class="va">lisbon</span><span class="op">[</span><span class="fl">50</span><span class="op">:</span><span class="fl">100</span>, <span class="op">]</span></span>
<span><span class="fu"><a href="../reference/predict_new.html">predict_new</a></span><span class="op">(</span>train_out <span class="op">=</span> <span class="va">output2</span>,</span>
<span>            data <span class="op">=</span> <span class="va">new_lisbon</span><span class="op">)</span></span></code></pre></div>
</details>
</div>
</div>
<div class="section level2">
<h2 id="task-6-explain-the-model">Task 6: Explain the model<a class="anchor" aria-label="anchor" href="#task-6-explain-the-model"></a>
</h2>
<div class="section level6">
<h6 id="why-5">WHY?<a class="anchor" aria-label="anchor" href="#why-5"></a>
</h6>
<p>Explaining the model helps you understand it better. The forester
does not include its functions to explain the model but uses a
ready-made DALEX package. The simple <code><a href="../reference/explain.html">explain()</a></code> function
creates an object adapted to the DALEX functions.</p>
</div>
<div class="section level6">
<h6 id="what-5">WHAT?<a class="anchor" aria-label="anchor" href="#what-5"></a>
</h6>
<p>Create a DALEX object from the best model from <code>output2</code>.
Then create feature importance, use the
<code><a href="https://modeloriented.github.io/DALEX/reference/model_parts.html" class="external-link">DALEX::model_parts()</a></code> function and introduce it in the chart
(<code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> function).</p>
<details><summary>
Answers:
</summary><div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">exp_list</span> <span class="op">&lt;-</span> <span class="fu">forester</span><span class="fu">::</span><span class="fu"><a href="../reference/explain.html">explain</a></span><span class="op">(</span>models <span class="op">=</span> <span class="va">output2</span><span class="op">$</span><span class="va">best_models</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>,</span>
<span>               test_data <span class="op">=</span> <span class="va">output2</span><span class="op">$</span><span class="va">test_data</span>,</span>
<span>               y <span class="op">=</span> <span class="va">output2</span><span class="op">$</span><span class="va">y</span><span class="op">)</span></span>
<span><span class="va">exp</span> <span class="op">&lt;-</span> <span class="va">exp_list</span><span class="op">$</span><span class="va">xgboost_bayes</span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu">DALEX</span><span class="fu">::</span><span class="fu"><a href="https://modeloriented.github.io/DALEX/reference/model_parts.html" class="external-link">model_parts</a></span><span class="op">(</span><span class="va">exp</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">p1</span><span class="op">)</span></span></code></pre></div>
</details>
</div>
</div>
<div class="section level2">
<h2 id="task-7-report-generating">Task 7: Report generating<a class="anchor" aria-label="anchor" href="#task-7-report-generating"></a>
</h2>
<div class="section level6">
<h6 id="why-6">WHY?<a class="anchor" aria-label="anchor" href="#why-6"></a>
</h6>
<p>For convenient storage and comparison of the training results of the
models, the forester offers a report-generating function - containing
the most important information about the data and training. Thanks to
this, it is possible to store the results of work in independent files
and come back to them at any time.</p>
</div>
<div class="section level6">
<h6 id="what-6">WHAT?<a class="anchor" aria-label="anchor" href="#what-6"></a>
</h6>
<p>Generate a report based on <code>output2</code>. Then based on the
report, find out which model is the best, assess the dispersion of the
training set, and test. Compare the feature importance chart to that
created in Task 6.</p>
<details><summary>
Answers:
</summary><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/report.html">report</a></span><span class="op">(</span>train_output <span class="op">=</span> <span class="va">output2</span>,</span>
<span>       output_file  <span class="op">=</span> <span class="st">'hands_on_report'</span><span class="op">)</span></span></code></pre></div>
</details>
</div>
</div>
<div class="section level2">
<h2 id="task-8-your-own-metric">Task 8: Your own metric<a class="anchor" aria-label="anchor" href="#task-8-your-own-metric"></a>
</h2>
<div class="section level6">
<h6 id="why-7">WHY?<a class="anchor" aria-label="anchor" href="#why-7"></a>
</h6>
<p>Forester offers some of the most commonly used metrics for model
evaluation, however, it does not preclude using a different, proprietary
metric. Applying self-made allows a fuller use of the forester’s
potential for the individual needs of the user.</p>
</div>
<div class="section level6">
<h6 id="what-7">WHAT?<a class="anchor" aria-label="anchor" href="#what-7"></a>
</h6>
<p>Use the <code><a href="../reference/train.html">train()</a></code> function with the default parameters but
with your metric added.<br>
It’s a good idea to turn off Bayes Optimization and decrease Random
Search iterations to build models faster.</p>
<details><summary>
Answers:
</summary><p>Example:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">max_error</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">predictions</span>, <span class="va">observed</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">predictions</span> <span class="op">-</span> <span class="va">observed</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="va">output4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/train.html">train</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">lisbon</span>,</span>
<span>                 y <span class="op">=</span> <span class="st">'Price'</span>,</span>
<span>                 bayes_iter <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                 random_evals <span class="op">=</span> <span class="fl">3</span>,</span>
<span>                 metric_function <span class="op">=</span> <span class="va">max_error</span>,</span>
<span>                 metric_function_name <span class="op">=</span> <span class="st">'Max Error'</span>,</span>
<span>                 metric_function_decreasing <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">output4</span><span class="op">$</span><span class="va">score_test</span></span></code></pre></div>
</details>
</div>
</div>
<div class="section level2">
<h2 id="task-9-free-testing">Task 9: Free testing<a class="anchor" aria-label="anchor" href="#task-9-free-testing"></a>
</h2>
<div class="section level6">
<h6 id="why-8">WHY?<a class="anchor" aria-label="anchor" href="#why-8"></a>
</h6>
<p>As the “hands-on” goal is getting valuable feedback from this
workshop, we want you to test the forester on your own datasets prepared
beforehand. This way, we can test these features in the new environment,
which might generate some bugs and issues.</p>
</div>
<div class="section level6">
<h6 id="what-8">WHAT?<a class="anchor" aria-label="anchor" href="#what-8"></a>
</h6>
<p>During the last task, we ask you to ‘play’ with the package, delve
into its documentation and not only do everything we did before on the
new data, but also, try to do the things we didn’t discuss during the
workshop.</p>
</div>
</div>
<div class="section level2">
<h2 id="task-10-discussion-and-suggestions">Task 10: Discussion and suggestions<a class="anchor" aria-label="anchor" href="#task-10-discussion-and-suggestions"></a>
</h2>
<div class="section level6">
<h6 id="why-9">WHY?<a class="anchor" aria-label="anchor" href="#why-9"></a>
</h6>
<p>We want to develop and improve the forester package, so your feedback
is very valuable to us.</p>
</div>
<div class="section level6">
<h6 id="what-9">WHAT?<a class="anchor" aria-label="anchor" href="#what-9"></a>
</h6>
<p>As a forester team, we ask you to join the discussion about features
that should be improved and what you would change in the forester or
add. If you find any bug, please post it on our GitHub
<code>Issues</code> page. <a href="https://github.com/ModelOriented/forester/issues" class="external-link uri">https://github.com/ModelOriented/forester/issues</a></p>
<p> </p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by .</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
