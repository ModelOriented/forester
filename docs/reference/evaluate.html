<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Function for evaluating and comparing models — evaluate • forester</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- dalexverse -->
<link href="../dalexverse.css" rel="stylesheet">
<link href="../dalexverse-2.css" rel="stylesheet">

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>






<meta property="og:title" content="Function for evaluating and comparing models — evaluate" />
<meta property="og:description" content="Function evaluate enables user to compare one or several models with
the same type of task. Function compares them based on metric which can be chosen by the user 
and returns the best model" />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- google analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-5650686-14""></script>
<script>
 window.dataLayer = window.dataLayer || [];
 function gtag(){dataLayer.push(arguments);}
 gtag('js', new Date());

 gtag('config', 'UA-5650686-14');
</script>

  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">forester</a>
        <div class="info">
          <span class="partof">part of the <a href="https://github.com/ModelOriented/DrWhy">DrWhy.AI</a>
           developed by the <a href="https://mi2.mini.pw.edu.pl/">MI^2 DataLab</a> </span>
          <span class="version version-default">1.0.0</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
        <li>
  <a href="https://github.com/ModelOriented/forester/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Function for evaluating and comparing models</h1>
    <small class="dont-index">Source: <a href='https://github.com/ModelOriented/forester/blob/master/R/compare_models.R'><code>R/compare_models.R</code></a></small>
    <div class="hidden name"><code>evaluate.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Function <code>evaluate</code> enables user to compare one or several models with
the same type of task. Function compares them based on metric which can be chosen by the user 
and returns the best model</p>
    </div>

    <pre class="usage"><span class='fu'>evaluate</span><span class='op'>(</span><span class='va'>...</span>, <span class='va'>data_test</span>, <span class='va'>target</span>, metric <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>...</th>
      <td><p>models to compare. Models should be either <code>forester_model</code> or <code>explainer</code> object.</p></td>
    </tr>
    <tr>
      <th>data_test</th>
      <td><p>data frame for evaluation models.</p></td>
    </tr>
    <tr>
      <th>target</th>
      <td><p>character indicating the target column in data test table.</p></td>
    </tr>
    <tr>
      <th>metric</th>
      <td><p>string containing name of metric based on which the model will be selected. 
Metric should be written in lowercase letters. Can be omitted.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list containing an object of the class <code>forester_model</code> and data frame with results.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Explanatory Model Analysis. Explore, Explain, and Examine Predictive Models. <a href='https://ema.drwhy.ai/'>https://ema.drwhy.ai/</a></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \donttest{</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://dalex.drwhy.ai'>DALEX</a></span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Welcome to DALEX (version: 2.2.1).</span>
#&gt; <span class='message'>Find examples and detailed introduction at: http://ema.drwhy.ai/</span>
#&gt; <span class='message'>Additional features will be available after installation of: ggpubr.</span>
#&gt; <span class='message'>Use 'install_dependencies()' to get all suggested dependencies</span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>apartments</span>, package<span class='op'>=</span><span class='st'>"DALEX"</span><span class='op'>)</span>
<span class='va'>lightgbm_model</span> <span class='op'>&lt;-</span> <span class='fu'><a href='make_lightgbm.html'>make_lightgbm</a></span><span class='op'>(</span><span class='va'>apartments</span>, <span class='st'>"m2.price"</span>, <span class='st'>"regression"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>--- Creating LightGBM model ---</span></div><div class='output co'>#&gt; <span class='message'>Original shape of train data frame: 1000 rows, 6 columns</span></div><div class='output co'>#&gt; <span class='message'>_____________</span></div><div class='output co'>#&gt; <span class='message'>NA values</span></div><div class='output co'>#&gt; <span class='message'>There is no NA values in your data.</span></div><div class='input'><span class='va'>ranger_model</span> <span class='op'>&lt;-</span> <span class='fu'><a href='make_ranger.html'>make_ranger</a></span><span class='op'>(</span><span class='va'>apartments</span>, <span class='st'>"m2.price"</span>, <span class='st'>"regression"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>--- Creating Ranger model ---</span></div><div class='output co'>#&gt; <span class='message'>Original shape of train data frame: 1000 rows, 6 columns</span></div><div class='output co'>#&gt; <span class='message'>_____________</span></div><div class='output co'>#&gt; <span class='message'>NA values</span></div><div class='output co'>#&gt; <span class='message'>There is no NA values in your data.</span></div><div class='input'>
<span class='co'># Evaluating single model</span>
<span class='va'>model_evaluated</span> <span class='op'>&lt;-</span> <span class='fu'>evaluate</span><span class='op'>(</span><span class='va'>ranger_model</span>, 
                             data_test <span class='op'>=</span> <span class='va'>apartments</span>, 
                             target <span class='op'>=</span> <span class='st'>"m2.price"</span>,
                             metric <span class='op'>=</span> <span class='st'>"mse"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Results of compared models:</span></div><div class='output co'>#&gt; 
#&gt; 
#&gt; model          mse      rmse          r2        mad
#&gt; -------  ---------  --------  ----------  ---------
#&gt; Ranger    21896.01   147.973   0.9733388   85.22582</div><div class='output co'>#&gt; <span class='message'>The best model based on mse metric is Ranger.</span></div><div class='input'>

<span class='va'>best_model</span> <span class='op'>&lt;-</span> <span class='fu'>evaluate</span><span class='op'>(</span><span class='va'>lightgbm_model</span>, <span class='va'>ranger_model</span>, 
                             data_test <span class='op'>=</span> <span class='va'>apartments</span>, 
                             target <span class='op'>=</span> <span class='st'>"m2.price"</span>,
                             metric <span class='op'>=</span> <span class='st'>"rmse"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Results of compared models:</span></div><div class='output co'>#&gt; 
#&gt; 
#&gt; model            rmse         mse          r2        mad
#&gt; ---------  ----------  ----------  ----------  ---------
#&gt; LightGBM     83.89545    7038.447   0.9914298   46.31874
#&gt; Ranger      147.97299   21896.006   0.9733388   85.22582</div><div class='output co'>#&gt; <span class='message'>The best model based on rmse metric is LightGBM.</span></div><div class='input'><span class='co'># }</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Hoang Thien Ly, Szymon Szmajdzinski, Anna Kozak.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


